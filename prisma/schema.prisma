generator client {
  provider = "prisma-client"
  output   = "./generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model Role {
  id        String     @id @default(cuid())
  name      String     @unique
  streamers Streamer[]

  @@map("roles")
}

model Streamer {
  id             String    @id
  name           String
  role           Role?     @relation(fields: [roleId], references: [id])
  channelId      String    @map("channel_id")
  youtubeId      String?   @default("") @map("youtube_id")
  avatar         String
  status         String    @default("offline")
  createdAt      DateTime  @default(now()) @map("created_at")
  position       Int       @default(autoincrement())
  lastChecked    DateTime? @map("last_checked")
  lastVideoCheck DateTime? @map("last_video_check")
  latestVideoId  String?   @map("latest_video_id")
  roleId         String?   @map("role_id")

  @@map("streamers")
}

model Backsound {
  id           String   @id @default(cuid())
  filename     String
  url          String
  size         Int
  createdAt    DateTime @default(now()) @map("created_at")
  originalName String?  @map("original_name")

  @@map("backsounds")
}
